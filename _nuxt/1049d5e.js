(window.webpackJsonp=window.webpackJsonp||[]).push([[21,10],{296:function(e,t,n){"use strict";n(26),n(48),n(17);var r={Spending:0,Income:1},o={One:{day:1,value:1,start:1},Week:{day:7,value:2,start:1},Month:{day:30,value:3,start:1},TwoMonth:{day:60,value:7,start:1},HalfYear:{day:182.5,value:4,start:1},Year:{day:365,value:5,start:1},Any:{day:0,value:6,start:0},Other:{day:0,value:9,start:0},find:function(e,t){return[this.Week,this.Month,this.TwoMonth,this.HalfYear,this.Year,this.Any,this.Other].filter((function(n){return n[e]==t}))}},l=function(e,t,n,o){return{name:e,get day(){return this.cycle.day},set day(e){this.cycle.day=e},cycle:t,money:n,status:o!=r.Income?r.Spending:r.Income,oneDayMoney:function(){var e=this.pay();return this.day<=1||!this.day?e:e/this.day},abs:function(){return Math.abs(this.oneDayMoney())},pay:function(){return r.Income==this.status?-1*this.money:+this.money}}},c=[];c.push(l("1日",o.One)),c.push(l("1週間",o.Week)),c.push(l("1ヶ月",o.Month)),c.push(l("2ヶ月",o.TwoMonth)),c.push(l("半年",o.HalfYear)),c.push(l("1年",o.Year));var m=function(e,t,n){return{name:e,value:t,cycle:n}},y={Work:"Work",Holiday:"Holiday",Income:"Income",FixedCost:"FixedCost",All:"All",Calendar:"Calendar"};t.a={CycleStatus:o,createTabMenu:function(){var e=[];return e.push(m("平日",y.Work,o.One)),e.push(m("休日",y.Holiday,o.One)),e.push(m("収入",y.Income,o.Any)),e.push(m("固定費",y.FixedCost,o.Any)),e.push(m("集計",y.All,o.Any)),e.push(m("カレンダー",y.Calendar,o.Other)),e},timeCount:function(e,t){if(t<=1)return t;var n=t/7;return e==y.Work?5*n:e==y.Holiday?2*n:t},getComma:function(e){return String(e).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")},timePattern:c,TimeLine:l,TabStatus:y,PayStatus:r}},304:function(e,t,n){"use strict";n.r(t);n(119);var r={name:"TotalMoney",props:{money:{type:Number,default:0},name:{type:String,default:""}},data:function(){return{}},computed:{changeColor:function(){return this.money>=0?"":"teal lighten-4--text"},absMoney:function(){return Math.abs(this.money)}},methods:{}},o=n(47),l=n(74),c=n.n(l),m=n(290),y=n(292),f=n(453),d=n(465),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-sheet",{attrs:{rounded:""}},[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("span",[e._v("日数："+e._s(e.name)),n("v-spacer")],1),e._v("\n      金額："),n("span",{class:e.changeColor},[e._v(" "+e._s(e.absMoney)+"円")])])],1)],1)}),[],!1,null,null,null);t.default=component.exports;c()(component,{VCol:m.a,VRow:y.a,VSheet:f.a,VSpacer:d.a})},459:function(e,t,n){"use strict";n.r(t);n(41),n(119),n(217),n(17);var r=n(296).a.CycleStatus,o=["日","月","火","水","木","金","土"].map((function(e,t){return{name:e,value:t}})),l=["1日","月末"].map((function(e,t){return{name:e,value:t+1}})),c=["奇数月","偶数月"].map((function(e,t){return{name:e,value:t+1}})),m=[{name:"",value:1}],y={props:{start:{type:Number,default:0},day:{type:Number,default:0}},data:function(){return{value:this.start}},computed:{timeCalc:function(){var e=this;return this.timePattern.map((function(t){return Math.ceil(e.info.oneDayMoney()*t.day)}))},periods:function(){var e=r.find("day",this.day);if(!e&&0==e.length)return m;var t=e.shift().value;return t==r.Week.value?o:t==r.Month.value?l:t==r.TwoMonth.value?c:m}},created:function(){this.periods.length>0&&(this.value=this.periods[0].value),this.setTimeInfo()},methods:{setTimeInfo:function(){var e=this;0==this.periods.filter((function(t){return t.value==e.value})).length&&(this.value=this.periods[0].value),console.log("peirod-select emit..."+this.value),this.$emit("period-select",this.value)}}},f=n(47),d=n(74),v=n.n(d),h=n(466),M=n(290),_=n(292),C=n(556),component=Object(f.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"grey darken-3",attrs:{outlined:""}},[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-select",{attrs:{items:e.periods,"item-text":"name","item-value":"value",label:"周期",solo:"",outlined:""},on:{change:e.setTimeInfo},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;v()(component,{VCard:h.a,VCol:M.a,VRow:_.a,VSelect:C.a})},487:function(e,t,n){"use strict";n.r(t);var r=n(316),o=n.n(r),l=n(476),c=n.n(l);o.a.locale(c.a),t.default={dayjs:o.a}},492:function(e,t,n){"use strict";n.r(t);n(119),n(40),n(41);var r=n(296),o=n(304),l=r.a.timeCount,c=r.a.timePattern,m={components:{totalMoney:o.default},props:{name:{type:String,default:""},money:{type:Number,default:0},tab:{type:Number,default:0}},data:function(){return{useName:this.name,value:this.money,timePattern:c}},computed:{timeCalc:function(){var e=this;return c.map((function(t){return Math.round(e.value*l(e.tab,t.day))}))}},methods:{setMoney:function(){var e={value:+this.value,name:this.useName};console.log("setMoney call..."),console.log(e),this.$emit("change-value",e)}}},y=n(47),f=n(74),d=n.n(f),v=n(466),h=n(290),M=n(292),_=n(552),component=Object(y.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"grey darken-3",attrs:{outlined:""}},[n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{label:"用途",solo:"",outlined:""},on:{blur:e.setMoney},model:{value:e.useName,callback:function(t){e.useName=t},expression:"useName"}})],1),e._v(" "),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{label:"お金",solo:"",outlined:"",suffix:"円"},on:{bulr:e.setMoney},model:{value:e.value,callback:function(t){e.value=e._n(t)},expression:"value"}})],1)],1),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-row",e._l(e.timePattern,(function(time,t){return n("v-col",{key:time.name,attrs:{cols:"2"}},[n("total-money",{attrs:{name:time.name,money:e.timeCalc[t]}})],1)})),1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;d()(component,{TotalMoney:function(){return Promise.resolve().then(n.bind(null,304)).then((function(e){return e.default||e}))}}),d()(component,{VCard:v.a,VCol:h.a,VRow:M.a,VTextField:_.a})},493:function(e,t,n){"use strict";n.r(t);n(119),n(40),n(41),n(17);var r=n(296),o=n(304),l=n(459),c=r.a.CycleStatus,m=r.a.timePattern,y=r.a.PayStatus,f={components:{TotalMoney:o.default,PeriodSelect:l.default},props:{tab:{type:Number,default:0},status:{type:Number,default:0},name:{type:String,default:""},value:{type:Number,default:0},cStart:{type:Number,default:0}},data:function(){var e=Object.assign({},c.Week);return e.start=this.cStart,{info:Object.assign({},function(e,t,n,r,o){return{name:e,day:t,cycle:n,money:r,status:o!=y.Income?y.Spending:y.Income,oneDayMoney:function(){var e=this.pay();return 1==this.day?e:e/this.day},abs:function(){return Math.abs(this.oneDayMoney())},pay:function(){return y.Income==this.status?-1*this.money:this.money}}}(this.name,7,Object.assign({},e),this.value,this.status)),timePattern:m}},computed:{timeCalc:function(){var e=this;return this.timePattern.map((function(t){return Math.ceil(e.info.oneDayMoney()*t.day)}))},timeList:function(){return this.timePattern.filter((function(time){return 1!=time.day}))}},methods:{setTimeInfo:function(){this.info.money=+this.info.money,this.$emit("change-value",this.info)},changePeriod:function(e){this.info.cycle.start=e,console.log("change period..."+e),this.setTimeInfo()}}},d=n(47),v=n(74),h=n.n(v),M=n(466),_=n(290),C=n(292),S=n(556),D=n(552),component=Object(d.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"grey darken-3",attrs:{outlined:""}},[n("v-row",[n("v-col",{attrs:{cols:"3"}},[n("v-text-field",{attrs:{label:"用途",solo:"",outlined:""},on:{change:e.changePeriod},model:{value:e.info.name,callback:function(t){e.$set(e.info,"name",t)},expression:"info.name"}})],1),e._v(" "),n("v-col",{attrs:{cols:"3"}},[n("v-text-field",{attrs:{label:"お金",solo:"",outlined:"",suffix:"円"},on:{change:e.setTimeInfo},model:{value:e.info.money,callback:function(t){e.$set(e.info,"money",e._n(t))},expression:"info.money"}})],1),e._v(" "),n("v-col",{attrs:{cols:"3"}},[n("v-select",{attrs:{items:e.timeList,"item-text":"name","item-value":"day",label:"周期",solo:"",outlined:""},on:{change:e.setTimeInfo},model:{value:e.info.day,callback:function(t){e.$set(e.info,"day",t)},expression:"info.day"}})],1),e._v(" "),n("v-col",{attrs:{cols:"3"}},[n("period-select",{attrs:{day:e.info.day,start:+e.info.cycle.start},on:{"period-select":function(t){return e.changePeriod(t)}}})],1)],1),e._v(" "),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-row",e._l(e.timePattern,(function(time,t){return n("v-col",{key:t,attrs:{cols:"2"}},[n("total-money",{attrs:{name:time.name,money:e.timeCalc[t]}})],1)})),1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;h()(component,{PeriodSelect:function(){return Promise.resolve().then(n.bind(null,459)).then((function(e){return e.default||e}))},TotalMoney:function(){return Promise.resolve().then(n.bind(null,304)).then((function(e){return e.default||e}))}}),h()(component,{VCard:M.a,VCol:_.a,VRow:C.a,VSelect:S.a,VTextField:D.a})},494:function(e,t,n){"use strict";n.r(t);n(41),n(40);var r=n(296).a.timePattern,o={props:{moneys:{type:Array,default:null}},data:function(){return{}},computed:{moneyList:function(){return this.moneys?this.moneys[0].map((function(e,t){return{name:r[t].name,value:e}})):[]}},methods:{}},l=n(47),c=n(74),m=n.n(c),y=n(466),f=n(290),d=n(292),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"grey darken-3",attrs:{outlined:""}},[n("v-row",e._l(e.moneyList,(function(t,r){return n("v-col",{key:r,attrs:{cols:"2"}},[e._v("\n      "+e._s(t.name)+" "+e._s(t.value)+"円\n    ")])})),1)],1)}),[],!1,null,null,null);t.default=component.exports;m()(component,{VCard:y.a,VCol:f.a,VRow:d.a})},558:function(e,t,n){"use strict";n.r(t);n(19),n(40),n(41),n(17),n(155),n(25),n(77);var r=n(296),o=n(492),l=n(493),c=n(494),m=n(487).default.dayjs,y=r.a.createTabMenu,f=r.a.timeCount,d=r.a.getComma,v=r.a.timePattern,h=r.a.TimeLine,M=r.a.TabStatus,_=r.a.CycleStatus,C={components:{Number:o.default,TimelyMoney:c.default,OtherNumber:l.default},data:function(){var e=y(),t={};return e.forEach((function(e){t[e.value]=[];for(var i=0;i<10;i++)t[e.value].push(Object.assign({},h("",Object.assign({},e.cycle),0)))})),{currentDate:m(new Date),tab:null,tabMenus:e,timeMoneys:t,TabStatus:M}},computed:{tabSummaryOneDayMoney:function(){var e=this;return function(t){var n=0,r=[];return e.timeMoneys[t].forEach((function(e){e.name&&r.push(e.name),n+=e.oneDayMoney()})),{result:n,names:r}}},tabIndex:function(){var e=[];return e.push(M.Work),e.push(M.Holiday),e.push(M.Income),e.push(M.FixedCost),e.push(M.All),e.push(M.Calendar),e[this.tab]},allSummaryOneDayMoney:function(){var e=this;return function(t){return e.tabIndex!=M.All?null:t==M.All?e.allOnlySummaryOneDayMoney:e.tabMenus.filter((function(e){return e.value==t})).map((function(t){var n=e.tabSummaryOneDayMoney(t.value).result;return console.log("■"+n),e.timeCalcList(n,t.value)}))}},allOnlySummaryOneDayMoney:function(){var e=this,t=[M.Work,M.Holiday,M.Income,M.FixedCost],n=Array(v.length).fill(0);return t.forEach((function(t){e.allSummaryOneDayMoney(t).shift().forEach((function(e,t){n[t]+=+e}))})),[n]},dateList:function(){for(var e=this.currentDate,t=[],i=0;i<this.yearDays;i++){var n=this.aggregationDateToSummaryMoney(e),r=n.result,o=n.names;t.push({view:m(e).format("YYYY/MM/DD(dd)"),value:e,money:r,names:o}),e=m(e).add(1,"day")}return t},endDate:function(){return m(this.currentDate).add(1,"year")},yearDays:function(){return+this.endDate.diff(this.currentDate,"day")},aggregationDateToSummaryMoney:function(){for(var e=this.endDate,t=this.yearDays,n=[],i=parseInt(t/2);i<t;i+=parseInt(t/2))n.push(m(this.currentDate).add(i,"day").format("YYYY/MM/DD"));var r=[];r.push(e.add(-1,"day").format("YYYY/MM/DD"));var o=this.tabSummaryOneDayMoney(M.Work),l=this.tabSummaryOneDayMoney(M.Holiday),c=this.periodCalc(M.Income),y=this.periodCalc(M.FixedCost),f=function(e,t,n){var r=0,o=t.result[e],l=n.result[e],c=[];return o&&(r+=o.money||0,c=c.concat(o.names)),l&&(r+=l.money||0,c=c.concat(l.names)),{result:r,names:c=c.filter((function(e){return 0!=e.length}))}};return function(e){var t=m(e),d=+t.day(),v=0,h=[];0==d||6==d?(v=l.result,h=h.concat(l.names)):(v=o.result,h=h.concat(o.names));var M=function(e,t){var o,l=t.format("YYYY/MM/DD"),m=function(e){var n=t.endOf("month").format("YYYY/MM/DD"),r=t.startOf("month").format("YYYY/MM/DD"),data=null;l==r?data=1:l==n&&(data=2),_.TwoMonth.day==e.day&&1==data&&(data=+t.format("M")%2);var o=e.day+"-"+data;return f(o,y,c)},d=[(o=_.Week.day+"-"+e,f(o,y,c)),m(_.Month),m(_.TwoMonth),function(){var e=0,t=[];if(0!=n.filter((function(e){return e==l})).length){var r=_.HalfYear.day+"-1",o=f(r,y,c);e=o.result,t=o.names}return{result:e,names:t}}(),function(){var e=0,t=[];if(0!=r.filter((function(e){return e==l})).length){var n=_.Year.day+"-1",o=f(n,y,c);e=o.result,t=o.names}return{result:e,names:t}}()],v=d.map((function(e){return e.names.filter((function(e){return e&&e.length>0})).join(",")})).filter((function(e){return""!=e})).join(",");return{result:d.reduce((function(e,t){return t.result+e}),0),names:v}}(d,t);return{result:v+=M.result,names:h=M.names.concat(h)}}}},methods:{periodCalc:function(e){var t={};return this.timeMoneys[e].forEach((function(e){var n=e.day+"-"+e.cycle.start;t[n]||(t[n]={money:0,names:[]}),t[n].money+=e.pay(),e.name&&t[n].names.push(e.name)})),{result:t}},total:function(e){return d(this.tabSummaryOneDayMoney(e).result)},timeCalcList:function(e,t){return v.map((function(n){return Math.round(e*f(t,n.day))}))},otherNumberSet:function(e,t,n){console.log("other-select..."),console.log(n.cycle.start),this.timeMoneys[e][t].name=n.name,this.timeMoneys[e][t].money=n.money,this.timeMoneys[e][t].day=n.day,this.timeMoneys[e][t].status=n.status,this.timeMoneys[e][t].cycle.value=n.cycle.value,this.timeMoneys[e][t].cycle.start=n.cycle.start},setNumber:function(e,t,n){console.log("number value set..."),console.log(n),this.timeMoneys[e][t].name=n.name,this.timeMoneys[e][t].money=n.value}}},S=n(47),D=n(74),T=n.n(D),x=n(466),k=n(297),w=n(290),O=n(292),Y=n(555),V=n(568),I=n(563),P=n(553),component=Object(S.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{color:"basil"}},[n("v-card-title",{staticClass:"text-center justify-center py-6"},[e._v("\n    金額を入力してください。\n  ")]),e._v(" "),n("v-tabs",{attrs:{"background-color":"transparent",color:"basil",grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.tabMenus,(function(t){return n("v-tab",{key:t.name},[e._v("\n      "+e._s(t.name)+"\n    ")])})),1),e._v(" "),n("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.tabMenus,(function(t){return n("v-tab-item",{key:t.name},[t.value==e.TabStatus.Work||t.value==e.TabStatus.Holiday?n("div",[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-row",e._l(e.timeMoneys[t.value],(function(r,o){return n("v-col",{key:t.value+r.name+o,attrs:{cols:"12"}},[n("number",{attrs:{tab:e.tab,name:r.name,money:r.money},on:{"change-value":function(n){return e.setNumber(t.value,o,n)}}})],1)})),1)],1)],1),e._v(" "),n("v-card",[n("v-card-text",[n("v-row",[n("v-col",[n("h1",[e._v(e._s(t.name)+"の合計金額"+e._s(e.total(t.value))+"円")])])],1)],1)],1)],1):t.value==e.TabStatus.Income?n("div",[n("v-card-text",[n("v-row",e._l(e.timeMoneys[t.value],(function(r,o){return n("v-col",{key:t.value+r.name+o,attrs:{cols:"12"}},[n("other-number",{attrs:{tab:e.tab,status:1,name:r.name,value:r.money,"c-start":+r.cycle.start},on:{"change-value":function(n){return e.otherNumberSet(t.value,o,n)}}})],1)})),1)],1)],1):t.value==e.TabStatus.FixedCost?n("div",[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-row",e._l(e.timeMoneys[t.value],(function(r,o){return n("v-col",{key:r.name+o,attrs:{cols:"12"}},[n("other-number",{attrs:{tab:e.tab,status:0,name:r.name,value:r.money,"c-start":+r.cycle.start},on:{"change-value":function(n){return e.otherNumberSet(t.value,o,n)}}})],1)})),1)],1)],1)],1):t.value==e.TabStatus.All?n("div",[n("v-row",e._l(e.tabMenus,(function(t){return n("v-col",{key:t.name,attrs:{cols:"12"}},[9!=t.cycle.value?n("h2",[e._v("\n              "+e._s(t.name)+"\n              "),n("timely-money",{attrs:{moneys:e.allSummaryOneDayMoney(t.value)}})],1):e._e()])})),1)],1):e._e(),e._v(" "),t.value==e.TabStatus.Calendar?n("div",[n("v-row",e._l(e.dateList,(function(dt){return n("v-col",{key:dt.view,attrs:{cols:"4"}},[n("h2",[e._v("\n              "+e._s(dt.view)+e._s(dt.money)+e._s(dt.names)+"\n            ")])])})),1)],1):e._e()])})),1)],1)}),[],!1,null,null,null);t.default=component.exports;T()(component,{Number:function(){return Promise.resolve().then(n.bind(null,492)).then((function(e){return e.default||e}))},OtherNumber:function(){return Promise.resolve().then(n.bind(null,493)).then((function(e){return e.default||e}))},TimelyMoney:function(){return Promise.resolve().then(n.bind(null,494)).then((function(e){return e.default||e}))}}),T()(component,{VCard:x.a,VCardText:k.a,VCardTitle:k.b,VCol:w.a,VRow:O.a,VTab:Y.a,VTabItem:V.a,VTabs:I.a,VTabsItems:P.a})}}]);